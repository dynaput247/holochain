# Configuration

`Config` is an object with helper functions for configuration that is exported from `holochain-nodejs` and can be imported into your code. The functions can be combined to produce a valid configuration object to instantiate a Conductor instance with.

#### Import Example
```javascript
const { Config } = require('@holochain/holochain-nodejs')
```

## Agent

### `Config.agent(agentName)` => `object`

Takes an agent name and creates a simple configuration object for that agent
___
**Name** agentName

**Type** `string`

**Description** An identifying string for this agent
___

#### Example
```javascript
const agentConfig = Config.agent('alice')
console.log(agentConfig)
/*
{
    name: 'alice'
}
*/
```

## DNA

### `Config.dna(dnaPath, [dnaName])` => `object`

Takes a path to a valid DNA package, and optionally a name and creates a simple configuration object for that DNA
___
**Name** dnaPath

**Type** `string`

**Description** The path to a `bundle.json` file containing a valid DNA configuration
___
**Name** dnaName *Optional*

**Type** `string`

**Description** The path to a `bundle.json` file containing a valid DNA configuration

**Default** The same as the given `dnaPath`
___

#### Example
```javascript
const dnaConfig = Config.dna('path/to/bundle.json')
console.log(dnaConfig)
/*
{
    path: 'path/to/bundle.json',
    name: 'path/to/bundle.json'
}
*/
```

## Instances

### `Config.instance(agentConfig, dnaConfig, [name])` => `object`

Takes an agent config object and a dna confid object, and optionally a unique name, and returns a full configuration object
for a DNA instance.
___
**Name** agentConfig

**Type** `object`

**Description** A config object with a `name` property, as produced by `Config.agent`
___
**Name** dnaConfig

**Type** `object`

**Description** A config object with a `name` and `path` property, as produced by `Config.dna`
___
**Name** name *Optional*

**Type** `string`

**Description** The name acts like the instance ID, and in fact will be used as such

**Default** The same as the `name` property of the given `agentConfig` (`agentConfig.name`)
___

#### Example
```javascript
const agentConfig = Config.agent('alice')
const dnaConfig = Config.dna('path/to/bundle.json')
const instanceConfig = Config.instance(agentConfig, dnaConfig)
console.log(dnaConfig)
/*
{
    agent: {
        name: 'alice'
    },
    dna: {
        path: 'path/to/bundle.json',
        name: 'path/to/bundle.json'
    },
    name: 'alice'
}
*/
```

## Full Conductor Configuration

### `Config.conductor(instancesList, [conductorOptions])` => `object`

Consumes an array of configured instances and produces an object which is a fully valid Conductor configuration. It can be passed into the Conductor constructor, which is covered in the next articles.

___
**Name** instancesList

**Type** `array`

**Description** Pass in an array of instance configuration objects generated by `Config.instance` to have them within the
final configuration to be instantiated by the Conductor
___
**Name** conductorOptions *Optional*

**Type** `object`

**Description** *conductorOptions.debugLog* `boolean` Which logger type to use. There are two options:
- debugLog = true: Use the "debug" logger. This one has nicer, colorful output.
- debugLog = false: Use the "simple" logger. This one has less interesting output, but can be silenced with the env variable `HC_SIMPLE_LOGGER_MUTE=1`

**Default** `{ debugLog: true }`
___

#### Example
```javascript
const agentConfig = Config.agent('alice')
const dnaConfig = Config.dna('path/to/bundle.json')
const instanceConfig = Config.instance(agentConfig, dnaConfig)
const conductorConfig = Config.conductor([instanceConfig])
```

#### Example With conductorOptions
```javascript
const agentConfig = Config.agent('alice')
const dnaConfig = Config.dna('path/to/bundle.json')
const instanceConfig = Config.instance(agentConfig, dnaConfig)
const conductorConfig = Config.conductor([instanceConfig], { debugLog: false })
```


## Full Multi Instance Example

```javascript
const { Config } = require('@holochain/holochain-nodejs')

// specify two agents...
const aliceName = "alice"
const bobName = "bob"
const agentAlice = Config.agent(aliceName)
const agentBob = Config.agent(bobName)
// ...and one DNA...
const dnaPath = "path/to/happ.hcpkg"
const dna = Config.dna(dnaPath)
// ...then make instances out of them...
const instanceAlice = Config.instance(agentAlice, dna)
const instanceBob = Config.instance(agentBob, dna)
// ...and finally throw them all together 
const config = Config.conductor([instanceAlice, instanceBob])
```